<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        a {
            text-decoration:none;
        }
        .idButtonCategory{
            background-color: blue;
            border:1px solid black;
            color: white;
        }
    </style>
</head>
<body>

    <input type="search" id="nameCategory">
    <input type="button" value="Search" id="summitSearch">
<p id="tableBlog"></p>
<!--<a class="idButtonCategory" th:href="@{/management_category}">Management Category</a>-->
<!--<a class="idButtonCategory" th:href="@{/blog/create}">Create New Blog</a>-->
<!--<table>-->
<!--    <ul   >-->
<!--        <li th:each="category : ${listCategory}"><a th:href="@{/blog/(id=${category.idCategory})}" th:text="${category.nameCategory}"></a></li>-->
<!--    </ul>-->
<!--</table>-->
<script src="bootstrap-4.0.0-dist/js/jquery-3.5.1.min.js"></script>
<script>
    $(document).ready(function() {
        $("#summitSearch").click(function () {

            let nameCategory = $('#nameCategory').val();
            $.ajax({
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                type: "GET",
                // data: {"id": idStudent},
                // http://localhost:8080/list/blog_of_category/
                url: "http://localhost:8080/search_list_blog/" + nameCategory,
                success: function (listBlog) {
                    let data='<table>\n' +
                        '    <tr>\n' +
                        '        <th>#</th>\n' +
                        '        <th>Theme</th>\n' +
                        '        <th>Last updated</th>\n' +
                        '        <th>Category</th>\n' +
                        '    </tr>\n';
                    for (let blog of listBlog){
                        data+='<tr>' +
                                '<td>'+blog.idBlog+'</td>'+
                                '<td>'+blog.theme+'</td>'+
                                '<td>'+blog.date+'</td>'+
                                '<td>'+blog.category.nameCategory+'</td>'+
                            '</tr>'
                    }
                    data+='</table>';
                    console.log(listBlog);
                    $('#tableBlog').html(data);
                },
                error: function (content) {
                    $("#tableBlog").val('b');
                    console.log(content);
                }
            });
        });
    });
</script>
</body>
</html>